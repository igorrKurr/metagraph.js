/*! metagraph 27-10-2014 */
function MetaElement(a,b,c){this.x=a,this.y=b,this.radius=20,this.hRadius=this.radius,this.name=c,this.parents=[],this.children=[],this.hasParents=function(){return this.parents.length>0},this.addParent=function(a){this.parents.push(a),a.children.push(this)},this.addChild=function(a){this.children.push(a),a.parents.push(this)},this.hasChildren=function(){return this.children.length>0},this.set=function(){this.hasChildren()?(this.hRadius=(this.children[0].radius+20)*this.children.length/2,this.radius=this.hRadius/this.vertexLength*1.5):(this.hRadius=20,this.radius=20)},this.isOverlap=function(a){var b=Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))>this.radius+a.radius;return!b}}function recursionOverChildren(a,b,c){var d=[],e=!1;c["level"+b]=a;for(var f=a.length-1;f>=0;f--)a[f].hasChildren()&&(e=!0,d=d.concat(a[f].children));if(e){var b=b+1;return c["level"+b]=d,recursionOverChildren(d,b,c)}}function levels(a){var b={};return recursionOverChildren(roots(a),0,b),b}function roots(a){return a.filter(function(a){return 0==a.parents.length?a:void 0})}